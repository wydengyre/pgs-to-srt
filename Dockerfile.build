# alpine-1.30.3
# https://hub.docker.com/layers/denoland/deno/alpine-1.30.3/images/sha256-3e03909bb192baa1eb20d035a5d6c6ce04d50ea3df394de6ecece54ff9f5c513?context=explore
FROM denoland/deno@sha256:3e03909bb192baa1eb20d035a5d6c6ce04d50ea3df394de6ecece54ff9f5c513
RUN apk add curl zip npm

# install just
RUN cd tmp \
    && curl --silent --show-error --fail --location --output just.tar.gz https://github.com/casey/just/releases/download/1.12.0/just-1.12.0-x86_64-unknown-linux-musl.tar.gz \
    && tar xfz just.tar.gz \
    && mv /tmp/just /usr/bin/just

ADD . /pgs-to-srt
CMD cd pgs-to-srt && just ci
